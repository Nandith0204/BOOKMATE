version: "3.1"

# -----------------
# 1. INTENTS (Updated to be more generic)
# -----------------
intents:
  - greet
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - express_mood          # Captures all mood types (replaces mood_great/mood_unhappy)
  - specify_preference    # User specifies 'match' or 'change' mood

# -----------------
# 2. ENTITIES
# -----------------
entities:
  - mood_type # e.g., happy, sad, energized, tired

# -----------------
# 3. SLOTS (Memory)
# -----------------
slots:
  mood_type:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: mood_type
  
  mood_preference:
    type: text
    influence_conversation: false
    mappings:
      - type: custom # Slot will be set during the form
      
  # Note: The original 'mood_great' and 'mood_unhappy' are deprecated/removed 
  # as they are now handled by the form.

# -----------------
# 4. RESPONSES (UTTERANCES)
# -----------------
responses:
  utter_greet:
    - text: "Hello! Welcome to Bookmate. How are you feeling right now? (e.g., Happy, sad, energized)"

  # Form responses (used automatically by the form)
  utter_ask_mood_type:
    - text: "I see, could you tell me your specific feeling?"

  utter_ask_mood_preference:
    - text: "Got it. Would you like a book that **matches** your current mood, or one that might help **change** it?"

  # The conditional responses (cheer-up + recommendation) are now in the Custom Action.
  # These are retained for legacy/fallback but will be replaced by action_recommend_by_mood output.
  utter_cheer_up:
    - text: "Here is something to cheer you up:"
      image: "data:image/jpeg;base64,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
      "
      
  # Original responses (kept for compatibility with old stories/rules)
  utter_did_that_help:
    - text: "Did that help you?"
  utter_happy:
    - text: "Great, carry on!"
  utter_goodbye:
    - text: "Bye! Happy reading."
  utter_iamabot:
    - text: "I am a bot, powered by Rasa."
  utter_recommend_book:
    - text: "I'm still learning. Please tell me your mood so I can find a perfect book!"

# -----------------
# 5. FORMS
# -----------------
forms:
  recommendation_form:
    required_slots:
      - mood_type
      - mood_preference

# -----------------
# 6. ACTIONS (The custom action handles the complex logic)
# -----------------
actions:
  - action_recommend_by_mood # Custom action for cheer-up + recommendation
  - recommendation_form